Creating my dotfiles installer.

Notes: Generally preferring APT installs bc speed yay
Requires basic ubuntu setup, and git authentication...


## Installing and configuring tailscale
sudo apt install curl
curl -fsSL https://tailscale.com/install.sh | sh
sudo tailscale up
sudo tailscale set -ssh

## Basic things
sudo apt install build-essential clangd btop ripgrep lazygit xclip nvim tig

# Generate the US English UTF-8 locale
sudo locale-gen en_US.UTF-8
# Set the system-wide default
sudo update-locale LANG=en_US.UTF-8

cat << 'EOF' >> ~/.bashrc
# Set UTF-8 locale
export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
EOF


# FONT SCRIPT
------------------------------------------------
FONT_DIR="$HOME/.local/share/fonts"
FONT_NAME="Iosevka"

# Create font directory if it doesn't exist
mkdir -p "$FONT_DIR"

# Download the Iosevka Nerd Font tarball from GitHub
# We use the -L flag to follow redirects
curl -L https://github.com/ryanoasis/nerd-fonts/releases/latest/download/${FONT_NAME}.tar.xz -o /tmp/${FONT_NAME}.tar.xz

# Extract the files into the font directory
tar -xvf /tmp/${FONT_NAME}.tar.xz -C "$FONT_DIR"

# Force the system to recognize the new fonts
fc-cache -fv

# Clean up
rm /tmp/${FONT_NAME}.tar.xz
------------------------------------------------


## Developer productivity tools
# tmux
sudo apt install tmux
# TODO: Copy tmux dotfile to ~/.tmux.conf

# Silversearcher
sudo apt install silversearcher-ag

# fzf
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
printf '\n# Set up fzf key bindings and fuzzy completion\neval "$(fzf --bash)"\n' >> ~/.bashrc

# starship (prompt)
curl -sS https://starship.rs/install.sh | sh
printf '\n#Starship\neval "$(starship init bash)"\n' >> ~/.bashrc

# ASTRO (TODO: replace this with my own vim configuration)
cargo install --locked tree-sitter-cli
git clone --depth 1 https://github.com/AstroNvim/template ~/.config/nvim
rm -rf ~/.config/nvim/.git

# Set nvim as default editor
cat << 'EOF' >> ~/.bashrc
# Set Neovim as the default editor
export VISUAL="nvim"
export EDITOR="nvim"
EOF

sudo update-alternatives --set editor /usr/bin/nvim
sudo update-alternatives --set vi /usr/bin/nvim
sudo update-alternatives --set vim /usr/bin/nvim



## Ui / Interfacing (this needs to be a flag
# i3
# TODO: Install flameshot
sudo apt install i3
# TODO: Copy i3 config to ~/.config/i3/config

# alacrity
sudo apt install alacrity
# TODO: Copy alacrity config to ~/.config/alacritty/alacritty.toml
